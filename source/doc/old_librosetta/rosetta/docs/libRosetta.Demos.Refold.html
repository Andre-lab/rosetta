<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/libRosetta.dwt" codeOutsideHTMLIsLocked="false" -->
<!-- DW6 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>libRosetta Refold Demo</title>
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="styles/libRosetta.css" type="text/css">
<style type="text/css">
.comment { color: #339966; font-style: italic; }
.pre { color: #000099; }
.string { color: #009900; }
.char { color: #009900; }
.float { color: #996600; }
.int { color: #999900; }
.bool { color: #000000; font-weight: bold; }
.type { color: #FF6633; }
.flow { color: #FF0000; }
.keyword { color: #990000; }
.operator { color: #663300; font-weight: bold; }
.style2 {font-size: 150%}
</style>
</head>
<body>
<div id="masthead"><h1 class="style2" id="siteName">libRosetta Users Guide</h1></div>
<div id="pagecell1">
	<img alt="" src="images/tl_curve_white.gif" height="6" width="6" id="tl"> <img alt="" src="images/tr_curve_white.gif" height="6" width="6" id="tr">
	<div id="breadCrumb"><a href="libRosetta.html">Home</a><!-- InstanceBeginEditable name="Breadcrumbs" --> <strong>&raquo;</strong> <a href="libRosetta.Using.html">Using</a> <strong>&raquo; </strong><a href="libRosetta.Demos.html">Demos</a> <strong>&raquo;</strong> Refold Demo <!-- InstanceEndEditable --></div>
	<div id="pageName"><h2><!-- InstanceBeginEditable name="PageName" -->Refold Demo <!-- InstanceEndEditable --></h2></div>
	<div id="pageNav">
		<div id="sectionLinks">
			<a href="libRosetta.html">Home</a>
			<a href="libRosetta.Intro.html">Introduction</a>
			<a href="libRosetta.Goals.html">Goals</a>
			<a href="libRosetta.Features.html">Features</a>
			<a href="libRosetta.Using.html">Using</a>
			<a href="libRosetta.Extending.html">Extending</a>
			<a href="libRosetta.Migrating.html">Migrating</a>
			<a href="libRosetta.Glossary.html">Glossary</a>
		</div>
		<div class="relatedLinks">
			<h3>Related Links</h3>
			<a href="http://rosettacommons.org">Rosetta Commons</a>
			<a href="http://wiki.rosettacommons.org">Rosetta Wiki</a>
			<a href="http://www.bakerlab.org">Baker Lab</a>
			<a href="http://graylab.jhu.edu">Gray Lab</a>
			<a href="http://kortemmelab.ucsf.edu">Kortemme Lab</a>
			<a href="http://www.unc.edu/kuhlmanpg">Kuhlman Lab</a>
			<a href="http://www.meilerlab.org">Meiler Lab</a>
			<a href="http://www.soe.ucsc.edu/%7Erohl/rohllab.html">Rohl Lab</a>
		</div>
	</div>
	<div id="content"><!-- InstanceBeginEditable name="Body" -->
    <div class="feature">
      <table width="700" border="0" align="left">
        <tr>
          <td><h4>libRosetta Refold Demo</h4>
            <p>This is a demo program that reads a PDB file, tweaks the conformation of the protein, refolds the protein to update the tweaked atom positions, and writes the tweaked protein to a PDB file.</p>
            <pre><span class="comment">// libRosetta headers
</span><span class="pre">#include &lt;rosetta/conformation/protein/Protein.hh&gt;
#include &lt;rosetta/conformation/protein/io.hh&gt;
#include &lt;rosetta/conformation/TorsionAngle.hh&gt;
#include &lt;rosetta/conformation/builder/ProteinBuilder.hh&gt;
#include &lt;rosetta/io/pdb/read_pdb.hh&gt;
#include &lt;rosetta/options/option.hh&gt;
</span><span class="comment">
// Numeric headers
</span><span class="pre">#include &lt;numeric/conversions.hh&gt;
</span><span class="comment">
// Standard library headers
</span><span class="pre">#include &lt;cstdlib&gt;
#include &lt;fstream&gt;
#include &lt;iostream&gt;
#include &lt;string&gt;
</span><span class="comment">

/// @brief Demo of reading, tweaking, refolding, and writing a protein
</span><span class="type">int</span><span class="keyword">
main</span><span class="operator">(</span><span class="type"> int</span> argc<span class="operator">,</span><span class="type"> char</span><span class="operator"> *</span> argv<span class="operator">[] )
{</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">;</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">::</span>conformation<span class="operator">;</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">::</span>conformation<span class="operator">::</span>builder<span class="operator">;</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">::</span>conformation<span class="operator">::</span>protein<span class="operator">;</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">::</span>io<span class="operator">::</span>pdb<span class="operator">;</span><span class="keyword">
   using namespace</span> rosetta<span class="operator">::</span>options<span class="operator">;</span><span class="keyword">
   using namespace</span> std<span class="operator">;</span><span class="keyword">
   using</span> numeric<span class="operator">::</span>conversions<span class="operator">::</span>radians<span class="operator">;</span><span class="keyword">
   typedef</span>  ProteinBuilder<span class="operator">::</span>Proteins  Proteins<span class="operator">;</span><span class="comment">

   // Get command line options
</span>   options<span class="operator">::</span>initialize<span class="operator">().</span>load<span class="operator">(</span> argc<span class="operator">,</span> argv<span class="operator">,</span><span class="bool"> true</span><span class="operator"> );</span>
   options<span class="operator">::</span>process<span class="operator">();</span><span class="comment">

   // Read the PDB
</span>   Proteins proteins<span class="operator">(</span> read_pdb<span class="operator">(</span> argv<span class="operator">[</span><span class="int">1</span><span class="operator">] ) );</span><span class="comment">

   // Grab the first protein
</span>   Protein<span class="operator"> &amp;</span> protein<span class="operator">( **</span>proteins<span class="operator">.</span>begin<span class="operator">() );</span><span class="comment">

   // Tweak the conformation in 2 places just for the fun of it
</span>   protein<span class="operator">.</span>phi<span class="operator">(</span><span class="int"> 20</span><span class="operator"> ) +=</span> radians<span class="operator">( +</span><span class="float">40.0</span><span class="operator"> );</span><span class="comment"> // +40 degrees
</span>   protein<span class="operator">.</span>phi<span class="operator">(</span><span class="int"> 80</span><span class="operator"> ) -=</span> radians<span class="operator">( -</span><span class="float">40.0</span><span class="operator"> );</span><span class="comment"> // -40 degrees

   // Refold the protein
</span>   protein<span class="operator">.</span>refold_N2C<span class="operator">();</span><span class="comment"> // N2C direction fullatom refold

   // Write the PDB
</span>   string<span class="keyword"> const</span> output_file<span class="operator">(</span> protein<span class="operator">.</span>id<span class="operator">() +</span><span class="string"> ".tweaked.pdb"</span><span class="operator"> );</span>
   std<span class="operator">::</span>ofstream pdb_stream<span class="operator">(</span> output_file<span class="operator">.</span>c_str<span class="operator">() );</span>
   pdb_write<span class="operator">(</span> pdb_stream<span class="operator">,</span> protein<span class="operator"> );</span>
<span class="operator">}</span></pre></td>
        </tr>
      </table>
      <p><strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Results on 1brs.pdb</strong><br> 
        <br>
      <img src="images/1brs.png" width="250" height="215"></p>
      <p>&nbsp;</p>
      <p><img src="images/1brs.tweaked.png" width="250" height="215"></p>
    </div>
  <!-- InstanceEndEditable --></div>
	<div id="siteInfo"><a href="libRosetta.support.html">Support</a> | &copy;2007 Rosetta Commons</div>
</div> 
<br> 
</body>
<!-- InstanceEnd --></html>