<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/libRosetta.dwt" codeOutsideHTMLIsLocked="false" -->
<!-- DW6 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>Tasks in  libRosetta</title>
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="styles/libRosetta.css" type="text/css">
<style type="text/css">
.comment { color: #339966; font-style: italic; }
.pre { color: #000099; }
.string { color: #009900; }
.char { color: #009900; }
.float { color: #996600; }
.int { color: #999900; }
.bool { color: #000000; font-weight: bold; }
.type { color: #FF6633; }
.flow { color: #FF0000; }
.keyword { color: #990000; }
.operator { color: #663300; font-weight: bold; }
.style2 {font-size: 150%}
</style>
</head>
<body>
<div id="masthead"><h1 class="style2" id="siteName">libRosetta Users Guide</h1></div>
<div id="pagecell1">
	<img alt="" src="images/tl_curve_white.gif" height="6" width="6" id="tl"> <img alt="" src="images/tr_curve_white.gif" height="6" width="6" id="tr">
	<div id="breadCrumb"><a href="libRosetta.html">Home</a><!-- InstanceBeginEditable name="Breadcrumbs" --> <strong>&raquo;</strong> <a href="libRosetta.Using.html">Using</a> <strong>&raquo;</strong> Tasks<!-- InstanceEndEditable --></div>
	<div id="pageName"><h2><!-- InstanceBeginEditable name="PageName" -->Tasks <!-- InstanceEndEditable --></h2></div>
	<div id="pageNav">
		<div id="sectionLinks">
			<a href="libRosetta.html">Home</a>
			<a href="libRosetta.Intro.html">Introduction</a>
			<a href="libRosetta.Goals.html">Goals</a>
			<a href="libRosetta.Features.html">Features</a>
			<a href="libRosetta.Using.html">Using</a>
			<a href="libRosetta.Extending.html">Extending</a>
			<a href="libRosetta.Migrating.html">Migrating</a>
			<a href="libRosetta.Glossary.html">Glossary</a>
		</div>
		<div class="relatedLinks">
			<h3>Related Links</h3>
			<a href="http://rosettacommons.org">Rosetta Commons</a>
			<a href="http://wiki.rosettacommons.org">Rosetta Wiki</a>
			<a href="http://www.bakerlab.org">Baker Lab</a>
			<a href="http://graylab.jhu.edu">Gray Lab</a>
			<a href="http://kortemmelab.ucsf.edu">Kortemme Lab</a>
			<a href="http://www.unc.edu/kuhlmanpg">Kuhlman Lab</a>
			<a href="http://www.meilerlab.org">Meiler Lab</a>
			<a href="http://www.soe.ucsc.edu/%7Erohl/rohllab.html">Rohl Lab</a>
		</div>
	</div>
	<div id="content"><!-- InstanceBeginEditable name="Body" -->
    <div class="feature">
      <table border="0">
        <tr>
          <td width="700" valign="top"><h4>Idealize Omegas</h4>
            <p>Let's start with a simple task. Suppose we want to set all the backbone omega angles on a protein to 180&deg;. Where do we begin? Because backbone torsion angles cross between residues libRosetta doesn't associate them with the residue. Much like classic Rosetta we can look them up from the protein by index, so we will need a loop over the protein. If we search Protein.hh for omega we find that there is a Protein::omega( Size const i ) member function that returns a reference to a TorsionAngle. We can assign angle values directly to a TorsionAngle, so we end up with this: </p>
            <pre><span class="flow">   for</span><span class="operator"> (</span> Size i<span class="operator"> =</span><span class="int"> 1</span><span class="operator">,</span> e<span class="operator"> =</span> protein<span class="operator">.</span>n_residue<span class="operator">();</span> i<span class="operator"> &lt;</span> e<span class="operator">; ++</span>i<span class="operator"> ) {</span> <span class="comment">// No omega on last AA</span>
      protein.omega( i<span class="operator"> ) = </span>radians<span class="operator">( </span><span class="float">180.0</span><span class="operator"> );</span><span class="comment"> // Internal angles are in radians
</span><span class="operator">   }</span></pre>
            <h4>Mass Centroid </h4>
            <p>Now suppose we want to compute the mass centroid of an amino acid -- something that isn't currently used in Rosetta and that libRosetta doesn't provide.</p>
            <pre><span class="comment">   // Loop over atoms by index
</span>   PointPosition mass_centroid<span class="operator">(</span> <span class="float">0.0</span> <span class="operator">);</span>
   Mass mass<span class="operator">(</span> <span class="float">0.0</span> <span class="operator">);</span> <span class="comment">// Total mass (for normalization)</span>
   <span class="operator"><span class="flow">for</span> (</span> Size i<span class="operator"> =</span><span class="int"> 1</span><span class="operator">,</span> e<span class="operator"> =</span> aa<span class="operator">.</span>n_atom<span class="operator">();</span> i<span class="operator"> &lt;=</span> e<span class="operator">; ++</span>i<span class="operator"> ) {</span>
      Atom<span class="operator"> </span><span class="keyword">const</span><span class="operator"> &amp;</span> atom<span class="operator">(</span> aa<span class="operator">.</span>atom<span class="operator">(</span> i<span class="operator"> ) );</span>
      mass <span class="operator">+=</span> atom.mass();
      mass_centroid <span class="operator">+=</span> atom.mass<span class="operator">() *</span> atom.position<span class="operator">();</span><span class="comment"><br></span>   }
   mass_centroid <span class="operator">/=</span> mass<span class="operator">;</span><span class="style3"><span class="comment"> // Normalize to get the mass centroid</span></span></pre>
            <p>(In production code we would, of course, handle the n_atom() == 0 case.)</p>
            <p>[ Many more task cookbooks need to be added here. Suggestions welcomed.]</p></td>
        </tr>
      </table>
    </div>
  <!-- InstanceEndEditable --></div>
	<div id="siteInfo"><a href="libRosetta.support.html">Support</a> | &copy;2007 Rosetta Commons</div>
</div> 
<br> 
</body>
<!-- InstanceEnd --></html>