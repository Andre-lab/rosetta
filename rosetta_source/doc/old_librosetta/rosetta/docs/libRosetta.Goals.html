<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html><!-- InstanceBegin template="/Templates/libRosetta.dwt" codeOutsideHTMLIsLocked="false" -->
<!-- DW6 -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<!-- InstanceBeginEditable name="doctitle" -->
<title>libRosetta Design Goals</title>
<!-- InstanceEndEditable -->
<link rel="stylesheet" href="styles/libRosetta.css" type="text/css">
<style type="text/css">
.comment { color: #339966; font-style: italic; }
.pre { color: #000099; }
.string { color: #009900; }
.char { color: #009900; }
.float { color: #996600; }
.int { color: #999900; }
.bool { color: #000000; font-weight: bold; }
.type { color: #FF6633; }
.flow { color: #FF0000; }
.keyword { color: #990000; }
.operator { color: #663300; font-weight: bold; }
.style2 {font-size: 150%}
</style>
</head>
<body>
<div id="masthead"><h1 class="style2" id="siteName">libRosetta Users Guide</h1></div>
<div id="pagecell1">
	<img alt="" src="images/tl_curve_white.gif" height="6" width="6" id="tl"> <img alt="" src="images/tr_curve_white.gif" height="6" width="6" id="tr">
	<div id="breadCrumb"><a href="libRosetta.html">Home</a><!-- InstanceBeginEditable name="Breadcrumbs" --> <strong>&raquo;</strong> Goals <!-- InstanceEndEditable --></div>
	<div id="pageName"><h2><!-- InstanceBeginEditable name="PageName" -->Design Goals<!-- InstanceEndEditable --></h2></div>
	<div id="pageNav">
		<div id="sectionLinks">
			<a href="libRosetta.html">Home</a>
			<a href="libRosetta.Intro.html">Introduction</a>
			<a href="libRosetta.Goals.html">Goals</a>
			<a href="libRosetta.Features.html">Features</a>
			<a href="libRosetta.Using.html">Using</a>
			<a href="libRosetta.Extending.html">Extending</a>
			<a href="libRosetta.Migrating.html">Migrating</a>
			<a href="libRosetta.Glossary.html">Glossary</a>
		</div>
		<div class="relatedLinks">
			<h3>Related Links</h3>
			<a href="http://rosettacommons.org">Rosetta Commons</a>
			<a href="http://wiki.rosettacommons.org">Rosetta Wiki</a>
			<a href="http://www.bakerlab.org">Baker Lab</a>
			<a href="http://graylab.jhu.edu">Gray Lab</a>
			<a href="http://kortemmelab.ucsf.edu">Kortemme Lab</a>
			<a href="http://www.unc.edu/kuhlmanpg">Kuhlman Lab</a>
			<a href="http://www.meilerlab.org">Meiler Lab</a>
			<a href="http://www.soe.ucsc.edu/%7Erohl/rohllab.html">Rohl Lab</a>
		</div>
	</div>
	<div id="content"><!-- InstanceBeginEditable name="Body" -->
    <div class="feature">
      <table width="700" border="0">
        <tr>
          <td><p class="story">libRosetta was designed to meet an ambitious set of goals based on experience in using and debugging Rosetta and from discussions with the developers to elicit the tasks that were most difficult.</p>
            <h4 class="story">Goals</h4>
            <p class="story">Develop a robust, modular Rosetta core that can grow outward to provide a 20+ year platform for research.</p>
            <p class="story">Follow a phased development plan to provide tangible benefits to the project as work progresses: </p>
            <ol>
              <li>Develop a representation of the chemical entities and molecular structure topology/conformation since that is the inner core upon which scoring, kinematics, optimization, and scientific protocols are built: growing a solid system outward from a robust core is much easier than growing inward</li>
              <li>Add the ability to score those conformations</li>
              <li>Integrate these components into Rosetta using existing systems for kinematics and optimization</li>
              <li>Extend libRosetta to support the full range of Rosetta entities and protocols</li>
              <li>Add kinematics and optimization layers to extend the benefits of the library up to the protocol level so that new protocols are easier to write and a range of Rosetta applications can be built from scripting languages</li>
            </ol>
            <h4 class="story">Principles</h4>
            <p class="story">The design grew out of some basic principles: </p>
            <ul>
              <li>The components should be easy to use and hard to misuse</li>
              <li>Common tasks should be simple</li>
              <li>New types of biomolecular objects (amino acids, atoms, etc.) should be easy to add</li>
              <li>Rosetta's entities can have membership in multiple collections so the design should allow the researchers to focus on membership and not ownership</li>
              <li>Object ownership and lifetimes should be handled safely and automatically via shared ownership smart pointers: ownership relationships flow from collections to their members to avoid cycles</li>
              <li>Object associations can be held in non-ownership smart pointers that prevent deletion</li>
              <li>The biomolecular components should be unencumbered by exotic software idioms such as template meta-programming</li>
              <li>A layered design should be used to separate chemical, conformational, scoring, kinematics, and optimization systems to retain flexibility and keep layer responsibilities limited and well-defined to assure testability and maintainability</li>
              <li>Performance is vital and must be considered in every part of the design</li>
              <li>Performance cannot be degraded by a new design and must be assessed at each development stage to identify any performance problems early</li>
              <li>Performance-critical algorithms should be identified and redesigned when possible for improved speed</li>
              <li>Programming errors should be caught at compile time when possible but at least at run time with debug builds</li>
              <li>libRosetta must enhance testability by being stable under small changes and providing a deterministic computation sequence mode</li>
            </ul>
            <h4 class="story">Software Design Requirements</h4>
            <p class="story">These principles led to some concrete software design requirements:</p>
            <ul>
              <li>Global data should be limited to constants and values set at start-up</li>
              <li>No magic number type codes: they are harmful to program maintainability and extensibility: type-safe named lookup keys will be used</li>
              <li>No fixed size limits and no wasted space: data structures should be dynamically right-sized
                  <ul>
                    <li>Rosetta is memory constrained for some protocols on certain platforms: Reduce memory use via refactored data structures and algorithms </li>
                  </ul>
              </li>
              <li>Appropriate layered data structures should be used to eliminate higher dimensional arrays with a lot of wasted space and the need to use a Fortran slicing mechanism to access the object-level sub-arrays</li>
              <li>Abstract interfaces should be used to lower coupling between subsystems and improve build times</li>
              <li>Class hierarchies should be used to express the type relationships and to remove the use of explicit type testing and special case code blocks in the science functions</li>
              <li>Classes should provide well-defined abstractions and services with documented and assert-tested pre- and post-conditions
                  <ul>
                    <li>Objects should perform their own bookkeeping where possible</li>
                    <li>Classes should have consistent interfaces and style to make function names easy to guess and remember</li>
                    <li>Class hierarchies will provide abstractions that can support new types, separate computational code from the specific i/o sources and sinks, and enable new algorithm variants to be easily plugged in.</li>
                  </ul>
              </li>
              <li>Operations should be well-defined without obscure side-effects </li>
              <li>Smart pointers should be used to control object lifetime and allow developers to make objects members of multiple collections without worrying about ownership</li>
              <li>Components should be &quot;pluggable&quot;: special purpose types can be linked in by special purpose builds without disturbing Rosetta's core</li>
              <li>Numerical scalar types should be typedef names for documentation and to allow libRosetta to be easily built with float or double precision</li>
              <li>Random numbers used at different locations should be generated by decoupled generators, at least for repeatability in test runs</li>
              <li>Rosetta is highly modal: eliminate modes by appropriate generalizations where possible</li>
            </ul>
            <h4 class="story">Scientific Requirements</h4>
            <p class="story">The scientific requirements for libRosetta subsystems were and are being elicited from the researchers and from an examination of the existing Rosetta source code.</p>
            <h4 class="story">Agile Process</h4>
          <p class="story">Given the range of science requirements for Rosetta an agile development process was selected for libRosetta. This allowed a continuum of functional libraries of increasing capability to be released and tested starting very soon after development began. This methodology allows each release to be evaluated for usability and performance and any design adjustments made early, when such changes are easiest. Agile development has proven much more successful at building robust systems than attempts to create an up-front master design and implement it in one large development phase.</p>            
          </td>
        </tr>
      </table>
    </div>
    <!-- InstanceEndEditable --></div>
	<div id="siteInfo"><a href="libRosetta.support.html">Support</a> | &copy;2007 Rosetta Commons</div>
</div> 
<br> 
</body>
<!-- InstanceEnd --></html>